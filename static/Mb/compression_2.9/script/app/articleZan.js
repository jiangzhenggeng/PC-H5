define(["jquery","global.fun","app/login"],function(a,b,c){return{praise:function(){a("[data-article-zan]").click(function(){var b=a(this).find("o"),d=parseInt(b.html());if(!window.URL.login){c.login();return}var e=a(this);if(e.find(".icon").hasClass("on"))return;a.get("/api/praise/praise",{id_value:blogid,status:"0",type:"2"},function(f){if(f.resultCode==-100){c.login();return}if(f.resultCode==0){e.find(".icon").addClass("on animate");var g=parseInt(a("[data-praise-num]").html())||0;a("[data-praise-num]").html(g+1),setTimeout(function(){e.find(".icon").removeClass("animate")},2e3),b.html(d+1),a("#praise-list-box").removeClass("none");var h=""+f.result.avatar+"/230x230",i="<li><img src="+h+"></li>",j=a("#praise-list");j.find("li").length?j.find("li").first().before(i):j.append(i)}},"json")})},like:function(){a("[data-article-like]").click(function(){if(!window.URL.login){c.login();return}var b=a(this);a.get("/api/praise/praise",{id_value:blogid,status:"0",type:"4"},function(a){if(a.resultCode==-100){c.login();return}a.resultCode==0&&(a.result.zan==1?(b.find(".icon").addClass("on animate"),setTimeout(function(){b.find(".icon").removeClass("animate")},2e3)):b.find(".icon").removeClass("on animate"))},"json")})}}})